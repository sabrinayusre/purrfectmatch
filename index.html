<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markerless AR with 3D Cats</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ar.js/aframe/build/aframe-ar.js"></script>
    <style>
        body { margin: 0; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
        h1 { text-align: center; margin-bottom: 10px; }
        .button-container {
            position: absolute;
            top: 20px;
            display: flex;
            gap: 20px;
            z-index: 10;
        }
        button {
            background-color: #6200ea;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            border-radius: 5px;
        }
        button:hover {
            background-color: #3700b3;
        }
        .ar-scene {
            display: none;
            width: 100%;
            height: 100%;
        }
        a-scene {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <h1>Explore Our Cat Breeds in AR</h1>

    <!-- Start AR Button -->
    <button id="startARButton" onclick="startAR()">Start AR Feature</button>

    <!-- Model Selection Buttons (Initially hidden) -->
    <div id="modelButtons" class="button-container" style="display:none;">
        <button onclick="setModel('calico')">Calico Cat</button>
        <button onclick="setModel('siamese')">Siamese Cat</button>
        <button onclick="setModel('tabby')">Tabby Cat</button>
    </div>

    <!-- AR Scene (Initially hidden) -->
    <div id="arScene" class="ar-scene">
        <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
            <!-- Camera -->
            <a-camera position="0 0 0"></a-camera>

            <!-- 3D Models (Initially hidden) -->
            <a-entity 
                id="calico" 
                gltf-model="https://raw.githubusercontent.com/sabrinayusre/purrfectmatch/4952b54ec01b5f75fd2eaefb1ccb086c926946aa/Purrfect%20Match%20cat%20calico.glb" 
                scale="1 1 1" 
                position="0 0 0" 
                visible="false" 
                animation-mixer="loop: repeat; timeScale: 1">
            </a-entity>

            <a-entity 
                id="siamese" 
                gltf-model="https://raw.githubusercontent.com/sabrinayusre/purrfectmatch/4952b54ec01b5f75fd2eaefb1ccb086c926946aa/Purrfect%20Match%20cat%20siamese.glb" 
                scale="1 1 1" 
                position="0 0 0" 
                visible="false" 
                animation-mixer="loop: repeat; timeScale: 1">
            </a-entity>

            <a-entity 
                id="tabby" 
                gltf-model="https://raw.githubusercontent.com/sabrinayusre/purrfectmatch/4952b54ec01b5f75fd2eaefb1ccb086c926946aa/Purrfect%20Match%20cat%20tabby.glb" 
                scale="1 1 1" 
                position="0 0 0" 
                visible="false" 
                animation-mixer="loop: repeat; timeScale: 1">
            </a-entity>

            <!-- Ground -->
            <a-plane position="0 0 -5" rotation="-90 0 0" width="10" height="10" color="#CCCCCC"></a-plane>
        </a-scene>
    </div>

    <script>
        function startAR() {
            // Hide the "Start AR" button and show the AR scene and model selection buttons
            document.getElementById('startARButton').style.display = 'none';
            document.getElementById('arScene').style.display = 'block';
            document.getElementById('modelButtons').style.display = 'flex';
        }

        function setModel(modelType) {
            // Hide all models first
            document.getElementById('calico').setAttribute('visible', 'false');
            document.getElementById('siamese').setAttribute('visible', 'false');
            document.getElementById('tabby').setAttribute('visible', 'false');

            // Show the selected model
            document.getElementById(modelType).setAttribute('visible', 'true');
        }
    </script>
</body>
</html>
